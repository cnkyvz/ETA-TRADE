{"ast":null,"code":"import isPlainObject from 'lodash/isPlainObject.js';\n/**\n * Handles errors received from the server. Parses the error into a more useful\n * format, places it in an exception and throws it.\n * See https://www.contentful.com/developers/docs/references/errors/\n * for more details on the data received on the errorResponse.data property\n * and the expected error codes.\n * @private\n */\nexport default function errorHandler(errorResponse) {\n  const {\n    config,\n    response\n  } = errorResponse;\n  let errorName;\n  // Obscure the Management token\n  if (config && config.headers && config.headers['Authorization']) {\n    const token = \"...\".concat(config.headers['Authorization'].toString().substr(-5));\n    config.headers['Authorization'] = \"Bearer \".concat(token);\n  }\n  if (!isPlainObject(response) || !isPlainObject(config)) {\n    throw errorResponse;\n  }\n  const data = response === null || response === void 0 ? void 0 : response.data;\n  const errorData = {\n    status: response === null || response === void 0 ? void 0 : response.status,\n    statusText: response === null || response === void 0 ? void 0 : response.statusText,\n    message: '',\n    details: {}\n  };\n  if (config && isPlainObject(config)) {\n    errorData.request = {\n      url: config.url,\n      headers: config.headers,\n      method: config.method,\n      payloadData: config.data\n    };\n  }\n  if (data && typeof data === 'object') {\n    var _data$sys;\n    if ('requestId' in data) {\n      errorData.requestId = data.requestId || 'UNKNOWN';\n    }\n    if ('message' in data) {\n      errorData.message = data.message || '';\n    }\n    if ('details' in data) {\n      errorData.details = data.details || {};\n    }\n    errorName = (_data$sys = data.sys) === null || _data$sys === void 0 ? void 0 : _data$sys.id;\n  }\n  const error = new Error();\n  error.name = errorName && errorName !== 'Unknown' ? errorName : \"\".concat(response === null || response === void 0 ? void 0 : response.status, \" \").concat(response === null || response === void 0 ? void 0 : response.statusText);\n  try {\n    error.message = JSON.stringify(errorData, null, '  ');\n  } catch (_unused) {\n    var _errorData$message;\n    error.message = (_errorData$message = errorData === null || errorData === void 0 ? void 0 : errorData.message) !== null && _errorData$message !== void 0 ? _errorData$message : '';\n  }\n  throw error;\n}","map":{"version":3,"names":["isPlainObject","errorHandler","errorResponse","config","response","errorName","headers","token","concat","toString","substr","data","errorData","status","statusText","message","details","request","url","method","payloadData","_data$sys","requestId","sys","id","error","Error","name","JSON","stringify","_unused","_errorData$message"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/ETA-TRADE/node_modules/contentful-sdk-core/dist/error-handler.js"],"sourcesContent":["import isPlainObject from 'lodash/isPlainObject.js';\n/**\n * Handles errors received from the server. Parses the error into a more useful\n * format, places it in an exception and throws it.\n * See https://www.contentful.com/developers/docs/references/errors/\n * for more details on the data received on the errorResponse.data property\n * and the expected error codes.\n * @private\n */\nexport default function errorHandler(errorResponse) {\n    const { config, response } = errorResponse;\n    let errorName;\n    // Obscure the Management token\n    if (config && config.headers && config.headers['Authorization']) {\n        const token = `...${config.headers['Authorization'].toString().substr(-5)}`;\n        config.headers['Authorization'] = `Bearer ${token}`;\n    }\n    if (!isPlainObject(response) || !isPlainObject(config)) {\n        throw errorResponse;\n    }\n    const data = response?.data;\n    const errorData = {\n        status: response?.status,\n        statusText: response?.statusText,\n        message: '',\n        details: {},\n    };\n    if (config && isPlainObject(config)) {\n        errorData.request = {\n            url: config.url,\n            headers: config.headers,\n            method: config.method,\n            payloadData: config.data,\n        };\n    }\n    if (data && typeof data === 'object') {\n        if ('requestId' in data) {\n            errorData.requestId = data.requestId || 'UNKNOWN';\n        }\n        if ('message' in data) {\n            errorData.message = data.message || '';\n        }\n        if ('details' in data) {\n            errorData.details = data.details || {};\n        }\n        errorName = data.sys?.id;\n    }\n    const error = new Error();\n    error.name =\n        errorName && errorName !== 'Unknown' ? errorName : `${response?.status} ${response?.statusText}`;\n    try {\n        error.message = JSON.stringify(errorData, null, '  ');\n    }\n    catch {\n        error.message = errorData?.message ?? '';\n    }\n    throw error;\n}\n"],"mappings":"AAAA,OAAOA,aAAa,MAAM,yBAAyB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,YAAYA,CAACC,aAAa,EAAE;EAChD,MAAM;IAAEC,MAAM;IAAEC;EAAS,CAAC,GAAGF,aAAa;EAC1C,IAAIG,SAAS;EACb;EACA,IAAIF,MAAM,IAAIA,MAAM,CAACG,OAAO,IAAIH,MAAM,CAACG,OAAO,CAAC,eAAe,CAAC,EAAE;IAC7D,MAAMC,KAAK,SAAAC,MAAA,CAASL,MAAM,CAACG,OAAO,CAAC,eAAe,CAAC,CAACG,QAAQ,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAE;IAC3EP,MAAM,CAACG,OAAO,CAAC,eAAe,CAAC,aAAAE,MAAA,CAAaD,KAAK,CAAE;EACvD;EACA,IAAI,CAACP,aAAa,CAACI,QAAQ,CAAC,IAAI,CAACJ,aAAa,CAACG,MAAM,CAAC,EAAE;IACpD,MAAMD,aAAa;EACvB;EACA,MAAMS,IAAI,GAAGP,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEO,IAAI;EAC3B,MAAMC,SAAS,GAAG;IACdC,MAAM,EAAET,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAES,MAAM;IACxBC,UAAU,EAAEV,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEU,UAAU;IAChCC,OAAO,EAAE,EAAE;IACXC,OAAO,EAAE,CAAC;EACd,CAAC;EACD,IAAIb,MAAM,IAAIH,aAAa,CAACG,MAAM,CAAC,EAAE;IACjCS,SAAS,CAACK,OAAO,GAAG;MAChBC,GAAG,EAAEf,MAAM,CAACe,GAAG;MACfZ,OAAO,EAAEH,MAAM,CAACG,OAAO;MACvBa,MAAM,EAAEhB,MAAM,CAACgB,MAAM;MACrBC,WAAW,EAAEjB,MAAM,CAACQ;IACxB,CAAC;EACL;EACA,IAAIA,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;IAAA,IAAAU,SAAA;IAClC,IAAI,WAAW,IAAIV,IAAI,EAAE;MACrBC,SAAS,CAACU,SAAS,GAAGX,IAAI,CAACW,SAAS,IAAI,SAAS;IACrD;IACA,IAAI,SAAS,IAAIX,IAAI,EAAE;MACnBC,SAAS,CAACG,OAAO,GAAGJ,IAAI,CAACI,OAAO,IAAI,EAAE;IAC1C;IACA,IAAI,SAAS,IAAIJ,IAAI,EAAE;MACnBC,SAAS,CAACI,OAAO,GAAGL,IAAI,CAACK,OAAO,IAAI,CAAC,CAAC;IAC1C;IACAX,SAAS,IAAAgB,SAAA,GAAGV,IAAI,CAACY,GAAG,cAAAF,SAAA,uBAARA,SAAA,CAAUG,EAAE;EAC5B;EACA,MAAMC,KAAK,GAAG,IAAIC,KAAK,CAAC,CAAC;EACzBD,KAAK,CAACE,IAAI,GACNtB,SAAS,IAAIA,SAAS,KAAK,SAAS,GAAGA,SAAS,MAAAG,MAAA,CAAMJ,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAES,MAAM,OAAAL,MAAA,CAAIJ,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEU,UAAU,CAAE;EACpG,IAAI;IACAW,KAAK,CAACV,OAAO,GAAGa,IAAI,CAACC,SAAS,CAACjB,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC;EACzD,CAAC,CACD,OAAAkB,OAAA,EAAM;IAAA,IAAAC,kBAAA;IACFN,KAAK,CAACV,OAAO,IAAAgB,kBAAA,GAAGnB,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEG,OAAO,cAAAgB,kBAAA,cAAAA,kBAAA,GAAI,EAAE;EAC5C;EACA,MAAMN,KAAK;AACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}